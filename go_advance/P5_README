net/http 提供简单的路由
httprouter 压缩字典树

自定义一个中间件，实现了业务逻辑和非业务解耦
http.Handler
chi框架
gin中间件仓库

gopkg.in/go-playground/validator.v9对结构体对象属性值校验
针对tag错误定制

db/sql 提供了操作数据库的接口和规范，需要按接口规范引入驱动，驱动中做了一些init
ORM 隐藏细节（limit1000等）
SQL Builder 清晰可维护性高，但是需要DBA能力，如果OLTP在线分析系统可能不合适了 需要的DBA能力高
QPS 每秒查询率问题
大型在线查询项目：
    把sql放到常量部分，交给DBA评审

通过基准测试 找到程序的瓶颈
通过限流 防止过多请求堆积
github.com/juju/ratelimit 提供了不同的令牌桶填充方式
95分位 99分位 作为统计值

web项目分层

业务层功能抽取成函数
功能稳定了再考虑用接口抽象，如果需要统一的业务流程和业务规范 那么接口就是有用的
表驱动模式 弥补接口对象实例化时过多的if和switch-case

系统容错
分批次灰度发布 发布的机器先分组 机器或者容器的个数是前者的2倍，发布的时候先发布第一组1个，如果出现错误也是1/n用户 多用于旧功能升级迭代



